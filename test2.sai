




var x = 10


var y = 10 * x

var max = a => {
    b => {
        case {
            | a > b -> a
            | ?     -> b
        }
    }
}

var map = fun => {
    lst => {
        match lst {
            | [] -> []
            | (x:xs) -> ((fun x) : (map fun xs))
        }
    }
}

var main = sys => {
    let fun = n => {
        case {
            | n <= 1 -> 1
            | ?      -> n * (fun (n - 1))
        }
    } in (writes (show (fun 4.0)) stdout)
}

var factorial = n => {
    case {
        | n <= 1 -> 1
        | ?      -> n * (factorial (n - 1))
    }
}

var writes = s => {
    f => {
        match s {
            | []     -> (true, f)
            | (c:cs) -> 
                let (succ, f') = write c f 
                in (case {
                    | succ == true -> (writes cs f')
                    | ?            -> (false, f') 
                })
        }
    }
}